{
  "dashboard": {
    "title": "Rocket.Chat Production Monitoring",
    "tags": ["rocket-chat", "production", "monitoring"],
    "timezone": "browser",
    "panels": [
      {
        "title": "Rocket.Chat Service Status",
        "type": "stat",
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 0},
        "targets": [
          {
            "expr": "up{job=\"rocketchat\"}",
            "legendFormat": "Rocket.Chat Status"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "mappings": [
              {"options": {"0": {"text": "DOWN", "color": "red"}, "1": {"text": "UP", "color": "green"}}, "type": "value"}
            ]
          }
        }
      },
      {
        "title": "Active Rocket.Chat Pods",
        "type": "stat",
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 0},
        "targets": [
          {
            "expr": "count(kube_pod_info{namespace=\"rocketchat\", pod=~\"rocketchat-.*\"})",
            "legendFormat": "Active Pods"
          }
        ]
      },
      {
        "title": "Rocket.Chat CPU Usage",
        "type": "graph",
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 8},
        "targets": [
          {
            "expr": "rate(container_cpu_usage_seconds_total{namespace=\"rocketchat\", pod=~\"rocketchat-.*\"}[5m])",
            "legendFormat": "{{pod}}"
          }
        ]
      },
      {
        "title": "Rocket.Chat Memory Usage",
        "type": "graph",
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 8},
        "targets": [
          {
            "expr": "container_memory_usage_bytes{namespace=\"rocketchat\", pod=~\"rocketchat-.*\"}",
            "legendFormat": "{{pod}}"
          }
        ]
      },
      {
        "title": "Rocket.Chat Pod Restarts",
        "type": "graph",
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 16},
        "targets": [
          {
            "expr": "kube_pod_container_status_restarts_total{namespace=\"rocketchat\", pod=~\"rocketchat-.*\"}",
            "legendFormat": "{{pod}}"
          }
        ]
      },
      {
        "title": "MongoDB Status",
        "type": "stat",
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 16},
        "targets": [
          {
            "expr": "up{job=\"rocketchat-mongodb-metrics\"}",
            "legendFormat": "MongoDB Status"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "mappings": [
              {"options": {"0": {"text": "DOWN", "color": "red"}, "1": {"text": "UP", "color": "green"}}, "type": "value"}
            ]
          }
        }
      },
      {
        "title": "Rocket.Chat HTTP Requests",
        "type": "graph",
        "gridPos": {"h": 8, "w": 24, "x": 0, "y": 24},
        "targets": [
          {
            "expr": "rate(http_requests_total{namespace=\"rocketchat\"}[5m])",
            "legendFormat": "HTTP Requests/sec"
          }
        ]
      },
      {
        "title": "Rocket.Chat Alerts",
        "type": "table",
        "gridPos": {"h": 8, "w": 24, "x": 0, "y": 32},
        "targets": [
          {
            "expr": "ALERTS{alertname=~\"RocketChat.*\"}",
            "legendFormat": "{{alertname}}"
          }
        ]
      }
    ],
    "time": {"from": "now-1h", "to": "now"},
    "refresh": "30s"
  }
}
